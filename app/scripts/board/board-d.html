<div class="board" ng-if="cool.di.state.gameStarted">
    Players: <span ng-repeat="player in $parent.cool.di.state.players">{{player.playerName}}<span ng-show="!$last">,</span> </span>
    <!--<button ng-click="cool.di.api.rollDice()">Roll Dice</button>
    <button ng-click="cool.di.api.routePlayer('board', 'space', 'hello')">Route Player</button>
    <button ng-click="cool.di.api.startGame(2)"> Start Game</button>-->
    <h2><button ng-click="cool.di.api.takeTurn(cool.di.state.players.indexOf(cool.di.state.turn), cool.di.state.turn)"> {{cool.di.state.turn.playerName}}, it's your turn.
    </button></h2>
    <div>
        <!--<span ng-repeat="(key,space) in cool.di.models.spaces" style="padding:1em; background:#000; margin:2px; color:mintcream; background:{{cool.di.models.sections.indexOf()}};float:left">
            {{key}}
            <div ng-repeat="(playerKey, player) in cool.di.state.players" ng-if="player.currentPosition == key">{{player.playerName}}</div>
        </span>-->
        <div ng-repeat="(sectionKey, section) in cool.di.models.sections">
            <h1 style="clear: both">{{sectionKey}}</h1>
            <span
                    ng-repeat="space in section"
                    ng-init="bgColor = cool.di.models.spaces[space] === 'trap' ? '#900020' : cool.di.models.spaces[space] === 'cool?' ? '#89cff0': cool.di.models.spaces[space] === 'pass' ? 'green' : cool.di.models.spaces[space]"
                  style="padding:1em; background:#000; margin:2px; color:mintcream; background:{{bgColor}};float:left">
            {{space}}
            <div ng-repeat="(playerKey, player) in cool.di.state.players" ng-if="player.currentPosition == space">
                {{player.playerName}}
            </div>
            </span>
        </div>
    </div>
    <ui-view></ui-view>
</div>